<?xml version="1.0" encoding="utf-8" ?>

<cascaraBinaryTemplate>
    <!--
        Operators
            ${...}          ->  'valueof' operator
            $[...]          ->  'offsetof' operator
            $(...)          ->  'sizeof' operator

        Special Operators
            $(type ...)    ->  sizeof type

        Special 'valueof' Variables
            __FILESIZE__    ->  the size in bytes of the file being processed
            __OFFSET__      ->  the current offset in the file being processed
    -->

    <!-- In ths structure, both members are the same distance from zero -->
    <typedef name="ZeroOffset" kind="struct">
        <int32 name="neg"/>
        <int32 name="pos"/>
    </typedef>

    <int32 name="size"/>
    <ZeroOffset name="zArr" count="${size} / $(type ZeroOffset)"/>

    <local name="skipSize" value="${__FILESIZE__} - ${__OFFSET__}"/>
    <echo message="Skipping ${skipSize} bytes..."/>
    <align count="${skipSize}"/>

    <echo message="${zArr[0].neg} = " newline="false" raw="true"/>
    <echo message="${zArr[0].neg}"/>
    <echo message="${zArr[1].neg} = " newline="false" raw="true"/>
    <echo message="${zArr[1].neg}"/>
    <echo message="${zArr[2].neg} = " newline="false" raw="true"/>
    <echo message="${zArr[2].neg}"/>
    <echo message="${zArr[3].neg} = " newline="false" raw="true"/>
    <echo message="${zArr[3].neg}"/>
</cascaraBinaryTemplate>
